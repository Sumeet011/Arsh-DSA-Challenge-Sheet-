class Solution {
    public boolean isValid(String s) {
        if(s.length()%2!=0){
            return false;
        }
        ArrayList<Character> ans = new ArrayList<>();
        int a=0;
        int b=0;
        for(int i=0;i<s.length();i++){
            char ch=s.charAt(i);
            if(ch=='('){
                ans.add(')');
                a++;
            }
           else if(ch=='{'){
                 ans.add('}');
                 a++;
            }
           else if(ch=='[') {
                ans.add(']');
                a++;
            }
            else{
                if(ans.size()>0 && ch!=ans.get(ans.size()-1)){
                    return false;
                }
                else{
                    if(ans.size()>0){
                    ans.remove(ans.size()-1);
                    b++;
                }
                }
            }
        }

            
        if(ans.isEmpty() && a+b==s.length()){
            return true;
        }
        return false;
    }
}
